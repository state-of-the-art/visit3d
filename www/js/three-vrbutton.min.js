class VRButton{static createButton(e,d){d&&console.error('THREE.VRButton: The "options" parameter has been removed. Please set the reference space type via renderer.xr.setReferenceSpaceType() instead.');let b=document.createElement("button");function f(){b.style.display="",b.style.cursor="auto",b.style.left="calc(50% - 75px)",b.style.width="150px",b.onmouseenter=null,b.onmouseleave=null,b.onclick=null}function c(a){a.style.position="absolute",a.style.bottom="20px",a.style.padding="12px 6px",a.style.border="1px solid #fff",a.style.borderRadius="4px",a.style.background="rgba(0,0,0,0.1)",a.style.color="#fff",a.style.font="normal 13px sans-serif",a.style.textAlign="center",a.style.opacity="0.5",a.style.outline="none",a.style.zIndex="999"}if("xr"in navigator)return b.id="VRButton",b.style.display="none",c(b),navigator.xr.isSessionSupported("immersive-vr").then(function(a){a?function(){let a=null;async function c(c){c.addEventListener("end",d),await e.xr.setSession(c),b.textContent="EXIT VR",a=c}function d(){a.removeEventListener("end",d),b.textContent="ENTER VR",a=null}b.style.display="",b.style.cursor="pointer",b.style.left="calc(50% - 50px)",b.style.width="100px",b.textContent="ENTER VR",b.onmouseenter=function(){b.style.opacity="1.0"},b.onmouseleave=function(){b.style.opacity="0.5"},b.onclick=function(){if(null===a){let b={optionalFeatures:["local-floor","bounded-floor","hand-tracking","layers"]};navigator.xr.requestSession("immersive-vr",b).then(c)}else a.end()}}():(f(),b.textContent="VR NOT SUPPORTED"),a&&VRButton.xrSessionIsGranted&&b.click()}).catch(function(a){f(),console.warn("Exception when trying to call xr.isSessionSupported",a),b.textContent="VR NOT ALLOWED"}),b;{let a=document.createElement("a");return!1===window.isSecureContext?(a.href=document.location.href.replace(/^http:/,"https:"),a.innerHTML="WEBXR NEEDS HTTPS"):(a.href="https://immersiveweb.dev/",a.innerHTML="WEBXR NOT AVAILABLE"),a.style.left="calc(50% - 90px)",a.style.width="180px",a.style.textDecoration="none",c(a),a}}static xrSessionIsGranted=!1;static registerSessionGrantedListener(){"xr"in navigator&&(/WebXRViewer\//i.test(navigator.userAgent)||navigator.xr.addEventListener("sessiongranted",()=>{VRButton.xrSessionIsGranted=!0}))}}VRButton.registerSessionGrantedListener();export{VRButton}
